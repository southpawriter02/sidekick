# Sidekick v0.4.1 Changelog â€” Jump-to-Test

> **Release Date:** 2026-02-04  
> **Phase:** Navigation & Productivity (v0.4.x)

---

## Summary

This release adds **bi-directional sourceâ†”test file navigation** to Sidekick. Quickly jump between implementation files and their corresponding tests with a single keyboard shortcut.

---

## New Features

### ðŸ§­ Jump-to-Test Navigation

- **Keyboard Shortcut:** `Ctrl+Shift+T` to toggle between source and test files
- **Bi-directional:** Works from source â†’ test AND test â†’ source
- **Multi-Convention Support:** Automatically detects test naming patterns:
  - `Tests` suffix (e.g., `UserServiceTests`)
  - `Test` suffix (e.g., `UserServiceTest`)
  - `Spec` suffix (e.g., `UserServiceSpec`)
  - `Should` suffix (e.g., `UserServiceShould`)
  - `_test` suffix (e.g., `user_service_test`)
- **Smart Detection:** Identifies test files by directory (`test/`, `tests/`, `spec/`, `__tests__/`) and naming
- **Test Creation:** Offers to create test file with appropriate stub if test doesn't exist
- **Multiple Matches:** Shows selection popup when multiple test files are found

---

## Components Added

### Models (`TestNavigationModels.kt`)

| Type | Description |
|------|-------------|
| `TestMapping` | Represents sourceâ†”test file relationship |
| `TestConvention` | Enum of supported test naming patterns |
| `TestDirectoryConfig` | Configures source/test directory mapping |
| `NavigationResult` | Sealed class for navigation outcomes |

### Service (`TestNavigationService.kt`)

| Method | Description |
|--------|-------------|
| `findTestForSource()` | Finds test file for a source file |
| `findSourceForTest()` | Finds source file for a test file |
| `isTestFile()` | Determines if a file is a test file |
| `createTestFile()` | Creates test file with language-specific stub |
| `getTestMapping()` | Gets the mapping between source and test |

### Actions

| Action | Shortcut | Description |
|--------|----------|-------------|
| `JumpToTestAction` | `Ctrl+Shift+T` | Toggle between source and test |
| `GoToTestAction` | â€” | Navigate specifically to test |
| `GoToSourceAction` | â€” | Navigate specifically to source |

---

## Test Stub Generation

When creating a new test file, Sidekick generates language-appropriate stubs:

### Kotlin
```kotlin
package com.example

import org.junit.jupiter.api.Test
import org.junit.jupiter.api.Assertions.*

class UserServiceTest {
    @Test
    fun `should work correctly`() {
        fail("Test not implemented")
    }
}
```

### Java
```java
package com.example;

import org.junit.jupiter.api.Test;
import static org.junit.jupiter.api.Assertions.*;

public class UserServiceTest {
    @Test
    void shouldWorkCorrectly() {
        fail("Test not implemented");
    }
}
```

### C#
```csharp
using Xunit;

namespace MyApp.Services;

public class UserServiceTests
{
    [Fact]
    public void ShouldWorkCorrectly()
    {
        Assert.Fail("Test not implemented");
    }
}
```

### Python
```python
import pytest

class TestUserService:
    def test_should_work_correctly(self):
        pytest.fail("Test not implemented")
```

---

## Supported Languages

- Kotlin (`.kt`)
- Java (`.java`)
- C# (`.cs`)
- Python (`.py`)
- TypeScript (`.ts`)
- JavaScript (`.js`)
- Ruby (`.rb`)
- Go (`.go`)

---

## Files Changed

### New Files
- `src/main/kotlin/com/sidekick/navigation/testjump/TestNavigationModels.kt`
- `src/main/kotlin/com/sidekick/navigation/testjump/TestNavigationService.kt`
- `src/main/kotlin/com/sidekick/navigation/testjump/JumpToTestAction.kt`
- `src/test/kotlin/com/sidekick/navigation/testjump/TestNavigationModelsTest.kt`
- `src/test/kotlin/com/sidekick/navigation/testjump/TestNavigationServiceTest.kt`

### Modified Files
- `src/main/resources/META-INF/plugin.xml` â€” Added service and action registrations

---

## Verification

Run the following command to execute tests:

```bash
./gradlew test --tests "com.sidekick.navigation.testjump.*"
```

---

## What's Next

- **v0.4.2:** Bookmark Workspaces â€” Save/restore bookmark and breakpoint collections
- **v0.4.3:** Snippet Pocket â€” Multi-slot clipboard with persistence
- **v0.4.4:** Recent Files Grid â€” Visual file browser with preview
- **v0.4.5:** Copy as Markdown â€” Syntax-highlighted code copying
