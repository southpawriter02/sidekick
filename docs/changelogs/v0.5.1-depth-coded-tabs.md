# Sidekick v0.5.1 Changelog â€” Depth-Coded Tabs

> **Release Date:** 2026-02-04  
> **Phase:** Visual Enhancements (v0.5.x)

---

## Summary

This release adds **Depth-Coded Tabs** â€” color editor tabs based on file depth in project directory structure for instant visual organization.

---

## New Features

### ðŸŽ¨ Depth-Coded Tabs

- **Automatic Coloring:** Tabs colored by directory depth
- **4 Color Palettes:** Ocean, Rainbow, Monochrome, Pastel
- **Namespace Extraction:** C#, Java, Kotlin, Python, TypeScript support
- **Toggle On/Off:** Quick action to enable/disable
- **Palette Selector:** Popup to switch palettes

---

## Components Added

### Models (`DepthTabModels.kt`)

| Type | Description |
|------|-------------|
| `DepthTabConfig` | Feature configuration |
| `ColorPalette` | Color list with depth mapping |
| `FileDepthInfo` | Depth analysis result |
| `DepthResult` | Operation outcome sealed class |
| `DepthMode` | Directory, Namespace, Hybrid |

### Service (`DepthTabService.kt`)

| Feature | Description |
|---------|-------------|
| Depth Calculation | File path analysis |
| Namespace Extraction | Language-specific parsing |
| Palette Management | Persistence per project |
| Tab Color Provider | Integration with IntelliJ |

### Actions (`DepthTabDecorator.kt`)

| Action | Description |
|--------|-------------|
| `ToggleDepthTabsAction` | Enable/disable coloring |
| `SelectDepthPaletteAction` | Choose palette |
| `ShowFileDepthAction` | Show depth info |

---

## Color Palettes

| Palette | Description |
|---------|-------------|
| **Ocean** | Blues, greens, warm accents (default) |
| **Rainbow** | Classic ROYGBIV spectrum |
| **Monochrome** | Grayscale for minimal visual impact |
| **Pastel** | Soft, muted colors |

---

## Namespace Extraction

| Extension | Method |
|-----------|--------|
| `cs` | `namespace X.Y.Z` |
| `kt`, `java` | `package x.y.z` |
| `py` | Directory path |
| `ts`, `tsx`, `js`, `jsx` | Relative path |

---

## Files Changed

### New Files
- `src/main/kotlin/com/sidekick/visual/tabs/DepthTabModels.kt`
- `src/main/kotlin/com/sidekick/visual/tabs/DepthTabService.kt`
- `src/main/kotlin/com/sidekick/visual/tabs/DepthTabDecorator.kt`
- `src/test/kotlin/com/sidekick/visual/tabs/DepthTabModelsTest.kt`

### Modified Files
- `src/main/resources/META-INF/plugin.xml` â€” Service, extension, 3 actions

---

## Verification

```bash
./gradlew test --tests "com.sidekick.visual.tabs.*"
# 45 tests passing
```

---

## What's Next

- **v0.5.2:** Rainbow Scopes (background tinting for nested blocks)
