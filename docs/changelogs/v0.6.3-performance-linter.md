# Sidekick v0.6.3 Changelog — Performance Linter

> **Release Date:** 2026-02-05  
> **Phase:** Code Quality (v0.6.x)

---

## Summary

This release adds **Performance Linter** — detection of common performance anti-patterns with configurable rules.

---

## New Features

### ⚡ Performance Linter

- **Pattern Detection:** 12 performance anti-patterns
- **Categories:** Memory, CPU, Async, Database, I/O
- **4 Severity Levels:** Critical, High, Medium, Low
- **Hot Path Awareness:** Escalates severity for annotated code
- **Configurable Rules:** Enable/disable specific patterns
- **Impact Estimates:** Describes performance consequences

### Detected Anti-Patterns

| Pattern | Category | Default Severity |
|---------|----------|-----------------|
| `async void` | Async | Critical |
| Sync over async | Async | Critical |
| Thread.Sleep in async | Async | Critical |
| String concat in loop | Memory | High |
| N+1 query | Database | High |
| Allocation in loop | Memory | Medium |
| LINQ in hot path | Memory | Medium |
| Unbounded collection | Memory | High |
| Uncompiled Regex | CPU | Low |
| Boxing | Memory | Low |
| LOH allocation | Memory | Medium |
| Dispose in finalizer | Memory | Medium |

---

## Components Added

### Models (`PerformanceLinterModels.kt`)

| Type | Description |
|------|-------------|
| `PerformanceIssue` | Detected issue with location and suggestion |
| `IssueLocation` | File, line, code snippet |
| `IssueType` | 12 anti-pattern types with regex patterns |
| `IssueCategory` | 5 categories (Memory, CPU, Async, DB, I/O) |
| `IssueSeverity` | 4 severity levels |
| `PerformanceLinterConfig` | Configuration with presets |
| `PerformanceAnalysisResult` | Analysis output |
| `PerformanceSummary` | Aggregated statistics |

### Service (`PerformanceLinterService.kt`)

| Feature | Description |
|---------|-------------|
| PSI Analysis | Traverses PSI tree for pattern detection |
| Severity Mapping | Context-aware severity (hot path escalation) |
| Description/Suggestion | Per-pattern explanations and fixes |
| Caching | In-memory cache of analysis results |
| Test File Filtering | Skips test files by default |

---

## Files Changed

### New Files
- `src/main/kotlin/com/sidekick/quality/performance/PerformanceLinterModels.kt`
- `src/main/kotlin/com/sidekick/quality/performance/PerformanceLinterService.kt`
- `src/test/kotlin/com/sidekick/quality/performance/PerformanceLinterModelsTest.kt`
- `src/test/kotlin/com/sidekick/quality/performance/PerformanceLinterServiceTest.kt`

---

## Test Coverage

| Test Class | Tests | Coverage |
|------------|-------|----------|
| `PerformanceLinterModelsTest` | 60+ | All models and enums |
| `PerformanceLinterServiceTest` | 30+ | Severity, descriptions, suggestions |

---

## Verification

```bash
./gradlew test --tests "com.sidekick.quality.performance.*"
# All tests passing
```
