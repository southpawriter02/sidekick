# Sidekick v0.8.5 Changelog ‚Äî Agent Actions

> **Release Date:** 2026-02-06  
> **Phase:** LLM Integration (v0.8.x)

---

## Summary

This release adds **Agent Actions** ‚Äî high-level actions for file operations, refactoring, and test generation.

---

## New Features

### üîß Refactoring Actions

| Action | Description |
|--------|-------------|
| `extract_method` | Extract selected code into a new method |
| `extract_variable` | Extract expression into a variable |
| `rename_symbol` | Rename a symbol across the codebase |
| `move_symbol` | Move a symbol to a different file/package |
| `inline` | Inline a variable or method at usage sites |
| `change_signature` | Change a method's signature |
| `simplify` | Simplify complex or verbose code |

### üß™ Test Generation Actions

| Action | Description |
|--------|-------------|
| `generate_unit_tests` | Generate unit tests for a class or function |
| `generate_test_cases` | Generate specific edge case tests |
| `add_test_coverage` | Add tests to improve coverage |
| `generate_mocks` | Generate mock implementations |
| `generate_test_data` | Generate test data and fixtures |
| `generate_integration_tests` | Generate integration tests |

### üìÅ File Operation Actions

| Action | Description |
|--------|-------------|
| `create_file` | Create a new file with generated content |
| `create_from_template` | Create a file from a template |
| `split_file` | Split a large file into smaller files |
| `merge_files` | Merge multiple files into one |
| `delete_unused` | Delete unused or dead code files |
| `organize_imports` | Organize and optimize imports |

### üìä Code Analysis Actions

| Action | Description |
|--------|-------------|
| `explain` | Explain what the code does |
| `review` | Review code for issues and improvements |
| `optimize` | Optimize code for better performance |
| `document` | Add documentation to code |

---

## Components Added

### Core (`AgentActions.kt`)

| Type | Description |
|------|-------------|
| `AgentAction` | Base interface for actions |
| `ActionCategory` | Action categories (8 types) |
| `ActionInput` | Input for actions |
| `ActionResult` | Result of action execution |
| `ActionValidation` | Input validation result |
| `ActionRegistry` | Registry of available actions |
| `ActionEvent` | Events during execution |

### Action Files

- `RefactorActions.kt` ‚Äî 7 refactoring actions
- `TestGenerationActions.kt` ‚Äî 6 test generation actions
- `FileOperationActions.kt` ‚Äî 6 file operations + 4 code analysis

---

## Action Categories

| Category | Count | Description |
|----------|-------|-------------|
| REFACTORING | 7 | Code restructuring |
| TEST_GENERATION | 6 | Test creation |
| FILE_OPERATIONS | 6 | File management |
| CODE_ANALYSIS | 2 | Code understanding |
| OPTIMIZATION | 1 | Performance |
| DOCUMENTATION | 1 | Documentation |

---

## Files Changed

### New Files
- `src/main/kotlin/com/sidekick/agent/actions/AgentActions.kt`
- `src/main/kotlin/com/sidekick/agent/actions/RefactorActions.kt`
- `src/main/kotlin/com/sidekick/agent/actions/TestGenerationActions.kt`
- `src/main/kotlin/com/sidekick/agent/actions/FileOperationActions.kt`
- `src/test/kotlin/com/sidekick/agent/actions/AgentActionsTest.kt`
- `src/test/kotlin/com/sidekick/agent/actions/RefactorActionsTest.kt`
- `src/test/kotlin/com/sidekick/agent/actions/TestGenerationActionsTest.kt`
- `src/test/kotlin/com/sidekick/agent/actions/FileOperationActionsTest.kt`

---

## Test Coverage

| Test Class | Tests | Coverage |
|------------|-------|----------|
| `AgentActionsTest` | 25+ | Core framework |
| `RefactorActionsTest` | 20+ | Refactoring actions |
| `TestGenerationActionsTest` | 20+ | Test generation |
| `FileOperationActionsTest` | 25+ | File operations |

---

## API Reference

### Execute Action
```kotlin
// Get action from registry
val action = ActionRegistry.get("extract_method")

// Prepare input
val input = ActionInput(
    projectPath = project.basePath ?: "",
    activeFile = "/src/main.kt",
    selectedCode = "val x = 1 + 2",
    parameters = mapOf("methodName" to "calculateSum")
)

// Validate input
val validation = action.validateInput(input)
if (!validation.valid) {
    println(validation.errors)
    return
}

// Create and execute task
val task = action.createTask(input)
val result = AgentExecutor.getInstance(project).executeTask(task)
```

### List Actions
```kotlin
// Get all actions
val allActions = ActionRegistry.getAll()

// Get by category
val refactorActions = ActionRegistry.getByCategory(ActionCategory.REFACTORING)
```

---

## Verification

```bash
./gradlew test --tests "com.sidekick.agent.actions.*"
# All tests passing
```
