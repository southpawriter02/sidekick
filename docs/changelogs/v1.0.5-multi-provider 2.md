# v1.0.5 - Multi-Provider Support

> **Release Date:** 2026-02-06  
> **Category:** Integration

---

## Overview

This version introduces **Multi-Provider Support** for seamless integration with local and cloud LLM providers.

---

## New Features

### Providers Module (`com.sidekick.providers`)

#### Supported Providers (`ProviderModels.kt`)

| Provider | Type | Default Priority |
|----------|------|------------------|
| Ollama | Local | 1 |
| LM Studio | Local | 2 |
| OpenAI | Cloud | 3 |
| Anthropic | Cloud | 4 |
| Azure OpenAI | Cloud | 5 |
| Custom | Any | 10 |

#### Multi-Provider Service (`MultiProviderService.kt`)

- **`getBestProvider()`** - Returns healthiest provider by priority
- **`testConnection()`** - Tests provider connectivity
- **`addCustomProvider()`** - Add OpenAI-compatible endpoints
- Health caching with 5-minute TTL
- Automatic failover on failure
- Persistent configuration

---

## Provider Capabilities

| Capability | Local | OpenAI | Anthropic | Azure |
|------------|-------|--------|-----------|-------|
| Streaming | ✓ | ✓ | ✓ | ✓ |
| Functions | - | ✓ | ✓ | ✓ |
| Vision | - | ✓ | ✓ | ✓ |
| Embeddings | ✓ | ✓ | - | ✓ |

---

## Test Coverage

| File | Tests |
|------|-------|
| `ProviderModelsTest.kt` | ~35 |
| `MultiProviderServiceTest.kt` | ~30 |

---

## Usage Example

```kotlin
val service = MultiProviderService.getInstance()

// Configure OpenAI
service.updateProvider("openai", ProviderConfig.OpenAI(
    enabled = true,
    apiKey = "sk-xxx"
))

// Get best available provider
val providerId = service.getBestProvider()

// Test connection
val result = service.testConnection(providerId)
println(result.format())

// Add custom provider
service.addCustomProvider("local-llm", ProviderConfig.Custom(
    name = "Local LLM",
    baseUrl = "http://localhost:8080/v1"
))
```
